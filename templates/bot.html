<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>
<style>
    body{
        background-color: #d6d7e4;
        margin: 0;
        padding:0 5px;
        overflow: hidden;
        font-family: "Poppins", sans-serif;
    }
    .hkhkjkh{
        display: flex;
        flex-direction: column;
        height: 100vh;
        width: 100%;
    }
    .jthhkbt{
        width: 100%;
        height: 100px;
        display: flex;
        justify-content: center;
    }
    form{
        width: 80%;
        display: flex;
        align-items: center;
    }
    .guhjg{
        width:100%;
        height: 50px;
        padding: 0 10px;
    }
    .hhghgh{
        margin-left:10px ;
        width: 80px;
        height: 55px;
        cursor: pointer;
        background-color: #4a51b3;
        border-radius: 4px;
        color: #fff;
    }
    .yftjhnb{
        width:100%;
    }
    .ghfghftu{
        /* position: absolute;
        top: 0;
        left: 0; */
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
    }
    .hgfhfyuf{
        width:100%;
        height: 570px;
        overflow-x: hidden;
        overflow-y: auto;
        display: flex;
        flex-direction: column-reverse; /* start from bottom */
    }
    .bot{
        width: 100%;
        display: flex;
        align-items: center;
        margin-top: 25px;
    }
    .btgt{
        margin: 0 5px;
    }
    .cbot{
        width: auto;
        max-width: 400px;
        background-color: #4a51b3;
        color: #fff;
        padding: 10px;
        border-radius: 5px 5px 5px 0 ;
        display: flex;
        flex-direction: column;
    }
    .user{
        width: 100%;
        display: flex;
        justify-content: right;
        margin-top: 25px;
        text-align: right;
        margin: 0 0 5px 0;
    }
    .cus{
        width: auto;
        max-width: 400px;
        background-color: #969be5;
        color: #080c47;
        padding: 10px;
        border-radius: 5px 5px 0 5px ;
        margin-right:15px;
    }
    .my-element {
  animation-name: slide-in;
  animation-duration: 3s;
  animation-delay: 1s; /* Animation starts after a 1-second delay */
}

@keyframes slide-in {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}
.t6deh6hj{
    width: auto;
    height:250px;
}
.hdghdf{
    padding: 8px 5px;
    border-radius: 4px;
    background-color: #fff;
    cursor: pointer;
}
</style>
<body>
    <div class="hkhkjkh">
        <div class="ghfghftu">
            <h2>Real Estate Chat Bot</h2>
        </div>
        <div class="yftjhnb">
            <div class="hgfhfyuf">
                <!-- <div class="user">
                    <div class="cus">hi</div>
                </div>
                <div class="bot">
                    <div class="btgt">ðŸ¤–</div>
                    <div class="cbot">hi</div>
                </div> -->
            </div>
        </div>
        <div class="jthhkbt">
            <form id="chatForm" method="post">
                <input id="userInput" class="guhjg" type="text" placeholder="Ask?" autocomplete="off">
                <input class="hhghgh" type="submit" value="button">
            </form>
        </div>
        
    </div>
    <script>
        const chatBox = document.querySelector(".hgfhfyuf");
        const form = document.getElementById("chatForm");
        const input = document.getElementById("userInput");
    
        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            const message = input.value.trim();
            if (!message) return;
    
            // add user message to chat
            chatBox.innerHTML += `<div class="user"><div class="cus">${message}</div></div>`;
            input.value = "";
    
            // send to Flask
            const res = await fetch("/chat", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ message })
            });
            const data = await res.json();
    
            // add bot response
            chatBox.innerHTML += `<div class="bot"><div class="btgt">ðŸ¤–</div><div class="cbot">${data.reply}</div></div>`;
    
            // scroll to bottom
            chatBox.scrollTop = chatBox.scrollHeight;
        });
    </script>
</body>
</html>